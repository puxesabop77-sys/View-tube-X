<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViewTube X | Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Syne:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav id="navbar">
        <div class="nav-logo" id="logo-btn" style="cursor:pointer;">ViewTube X</div>
        
        <div class="search-wrap">
            <input type="text" id="search-input" placeholder="Search videos..." autocomplete="off">
            <button class="search-btn" id="search-btn">SEARCH</button>
        </div>

        <div class="nav-actions">
            <button class="nav-link active" id="btn-trending">Trending</button>
            <button class="nav-link" onclick="location.href='feedback.html'">Feedback</button>
            <button class="nav-link login-btn" id="auth-status-btn" onclick="location.href='login.html'">Login</button>
            <button class="theme-toggle" id="dark-toggle">Theme</button>
        </div>
    </nav>

    <main>
        <div class="page active" id="page-home">
            <div class="section-header">
                <h2 id="page-title">Trending Now</h2>
            </div>
            <div id="video-grid"></div>
            <div id="load-spinner" style="display:none; text-align:center; padding:40px;">
                <p>FETCHING CONTENT...</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2026 VIEWTUBE X . DESIGNED BY SUFIYAN ABSAR</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBSPZq2TqjPY-wUzqXYmtrSXqR3H9PLyuY",
            authDomain: "view-tube-x.firebaseapp.com",
            projectId: "view-tube-x",
            storageBucket: "view-tube-x.firebasestorage.app",
            messagingSenderId: "238794910286",
            appId: "1:238794910286:web:85d820232814a7e6fbb11f"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        onAuthStateChanged(auth, (user) => {
            const authBtn = document.getElementById('auth-status-btn');
            if (user && authBtn) {
                authBtn.innerText = "Profile";
                authBtn.onclick = () => {
                    if(confirm("Sign out from ViewTube X?")) {
                        signOut(auth).then(() => location.reload());
                    }
                };
            }
        });
    </script>
    <script src="script.js"></script>
</body>
</html>
